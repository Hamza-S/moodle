define(["jquery","core/ajax","core/log","core/notification","core/templates","core/config","core/str","block_oua_connections/jquery.blockUI"],function(a,b,c,d,e,f,g,h){var i,j,k=function(c){var e=b.call([{methodname:"block_oua_connections_delete_connection",args:{userid:c}}]);a.when.apply(a,e).done(function(b){b.allmyconnections&&a("#allmyconnections").replaceWith(b.allmyconnections),a.isFunction(i.unblock)&&i.unblock()}).fail(d.exception)};return a("#allmyconnections").parent().on("click"," #allmyconnections button.connection-delete",function(){var b=a(this);j=a("#confirm_delete_connection_dialog"),j.modal({backdrop:!0}),a(".confirm-delete",j).data("userid",b.data("userid"))}).on("click",".confirm-delete",function(b){var c=a(this).data("userid");i=a("#confirm_delete_connection_dialog").parent().parent(),i.block({message:"<span class='glyphicon glyphicon-refresh glyphicon-refresh-animate spinning'></span>"}),j.modal("hide"),k(c)}),{}});