define(["jquery","core/custom_interaction_events","core/notification"],function(a,b,c){var d={CONTAINER_REGION:'[data-region="blocks-drawer"]',TOGGLE_REGION:'[data-region="blocks-drawer-toggle"]',TOGGLE_ACTION:'[data-action="toggle-blocks-drawer"]',BODY:"body"},e=function(){a(d.CONTAINER_REGION).length||c.exception({message:"Page is missing a blocks drawer region"}),a(d.TOGGLE_REGION).length||c.exception({message:"Page is missing a blocks drawer toggle region"}),a(d.TOGGLE_ACTION).length||c.exception({message:"Page is missing a blocks drawer toggle link"});var b=a(d.CONTAINER_REGION),e=a(d.TOGGLE_REGION),f="true"==b.attr("aria-hidden"),g=a(d.BODY);f?(b.addClass("closed"),e.addClass("closed"),b.attr("aria-hidden","true")):(g.addClass("blocks-drawer-open"),b.attr("aria-hidden","false")),this.registerEventListeners()};return e.prototype.toggleBlocksDrawer=function(){var b=a(d.CONTAINER_REGION),c=a(d.TOGGLE_REGION),e=a(d.BODY);e.addClass("blocks-drawer-ease");var f="true"==b.attr("aria-hidden");f?(b.removeClass("closed"),c.removeClass("closed"),b.attr("aria-hidden","false"),e.addClass("blocks-drawer-open"),M.util.set_user_preference("blocks-drawer-open","true")):(b.addClass("closed"),c.addClass("closed"),e.removeClass("blocks-drawer-open"),b.attr("aria-hidden","true"),M.util.set_user_preference("blocks-drawer-open","false"))},e.prototype.registerEventListeners=function(){var c=a(d.TOGGLE_ACTION);b.define(c,[b.events.activate]),c.on(b.events.activate,function(a,b){this.toggleBlocksDrawer(),b.originalEvent.preventDefault()}.bind(this))},{init:function(){return new e}}});