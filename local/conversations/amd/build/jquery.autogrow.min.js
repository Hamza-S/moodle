define(["jquery"],function(a){a.fn.autoGrow=function(b){return this.each(function(){var c=a.extend({extraLine:!0},b),d=function(b){return a(b).after('<div class="autogrow-textarea-mirror"></div>'),a(b).next(".autogrow-textarea-mirror")[0]},e=function(b){g.innerHTML=String(b.value).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br />")+(c.extraLine?".<br/>.":""),a(b).height()!=a(g).height()&&a(b).height(a(g).height())},f=function(){e(this)},g=d(this);g.style.display="none",g.style.wordWrap="break-word",g.style.whiteSpace="normal",g.style.padding=a(this).css("paddingTop")+" "+a(this).css("paddingRight")+" "+a(this).css("paddingBottom")+" "+a(this).css("paddingLeft"),g.style.width=a(this).css("width"),g.style.fontFamily=a(this).css("font-family"),g.style.fontSize=a(this).css("font-size"),g.style.lineHeight=a(this).css("line-height"),g.style.letterSpacing=a(this).css("letter-spacing"),this.style.overflow="hidden",this.style.minHeight=this.rows+"em",this.onkeyup=f,e(this)})}});