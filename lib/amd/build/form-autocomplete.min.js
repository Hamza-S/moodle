define(["jquery","core/css","core/str","core/select2"],function(a,b,c){var d={placeholder:""};return{enhance:function(e,f,g,h){b.load("/lib/form/style/select2.css"),"undefined"==typeof f&&(f=!1),"undefined"==typeof g&&(g=!1),c.get_strings([{component:"error",key:"error"},{component:"form",key:"err_maxlength",param:{format:"%TOKEN%"}},{component:"form",key:"err_minlength",param:{format:"%TOKEN%"}},{component:"core",key:"loading"},{component:"form",key:"err_maxselected",param:{format:"%TOKEN%"}},{component:"core",key:"noresults"},{component:"form",key:"searchingdots"}]).done(function(b){d.placeholder=h,d.tags=f,d.tokenSeparators=[","," "],d.selectOnClose=!0,d.closeOnSelect=!1;var c={errorLoading:function(){return b[0]},inputTooLong:function(a){return b[1].replace("%TOKEN%",a.maximum)},inputTooShort:function(a){return b[2].replace("%TOKEN%",a.minimum)},loadingMore:function(){return b[3]},maximumSelected:function(a){return b[4].replace("%TOKEN%",a.maximum)},noResults:function(){return b[5]},searching:function(){return b[6]}};d.language=c;var i=null;g?require([g],function(b){d.ajax={delay:500,processResults:b.processResults,transport:b.transport},i=a(e).select2(d)}):i=a(e).select2(d);var j=i.next(".select2").find('.select2-selection [role="textbox"]'),k=j.attr("id");"undefined"==typeof k&&(k="select2"+a.now(),j.attr("id",k));var l=i.attr("id");a('[for="'+l+'"]').on("click",function(){j.focus()}),a('[for="'+l+'"]').attr("for",k)})}}});