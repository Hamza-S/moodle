define(["core/url","core/log"],function(a,b){return{notify:function(c,d,e,f,g,h){if("Notification"in window){"undefined"==typeof g&&(g="notification",h="message_html5");var i={body:d,icon:a.imageUrl(g,h)};if("undefined"!=typeof f&&(i.tag=f),"granted"===Notification.permission){var j=new Notification(c,i);j.onclick=function(){window.location.href=e}}else"denied"!==Notification.permission&&Notification.requestPermission(function(a){if("granted"===a){var d=new Notification(c,i);d.onclick=function(){window.location.href=e}}else b.warn("User denied message request")})}else b.warn("Browser does not support notifications API.")}}});