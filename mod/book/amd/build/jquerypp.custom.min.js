define(["jquery"],function(a){!function(b){var c=a.event,d=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;for(e=0;e<b.length;e++)for(f=b[e],h=f.indexOf(".")<0,h||(k=f.split("."),f=k.shift(),l=new RegExp("(^|\\.)"+k.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")),g=(a[f]||[]).slice(0),i=0;i<g.length;i++)j=g[i],m=h||l.test(j.namespace),m&&(d?j.selector===d&&c(f,j.origHandler||j.handler):null===d?c(f,j.origHandler||j.handler,j.selector):j.selector||c(f,j.origHandler||j.handler))};c.find=function(a,c,e){var f=(b._data(a)||{}).events,g=[];return f?(d(f,c,function(a,b){g.push(b)},e),g):g},c.findBySelector=function(a,c){var e=b._data(a).events,f={},g=function(a,b,c){var d=f[a]||(f[a]={}),e=d[b]||(d[b]=[]);e.push(c)};return e?(d(e,c,function(a,b,c){g(c||"",a,b)},null),f):f},c.supportTouch="ontouchend"in document,b.fn.respondsTo=function(a){return this.length?c.find(this[0],b.isArray(a)?a:[a]).length>0:!1},b.fn.triggerHandled=function(a,c){return a="string"==typeof a?b.Event(a):a,this.trigger(a,c),a.handled},c.setupHelper=function(a,d,e){e||(e=d,d=null);var f=function(f){var g,h=f.selector||"";h?(g=c.find(this,a,h),g.length||b(this).delegate(h,d,e)):c.find(this,a,h).length||c.add(this,d,e,{selector:h,delegate:this})},g=function(f){var g,h=f.selector||"";h?(g=c.find(this,a,h),g.length||b(this).undelegate(h,d,e)):c.find(this,a,h).length||c.remove(this,d,e,{selector:h,delegate:this})};b.each(a,function(){c.special[this]={add:f,remove:g,setup:function(){},teardown:function(){}}})}}(a),function(a){var b=/Phantom/.test(navigator.userAgent),c=!b&&"ontouchend"in document,d=c?"touchstart":"mousedown",e=c?"touchend":"mouseup",f=c?"touchmove":"mousemove",g=function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;return{time:(new Date).getTime(),coords:[c.pageX,c.pageY],origin:a(b.target)}},h=a.event.swipe={delay:500,max:75,min:30};a.event.setupHelper(["swipe","swipeleft","swiperight","swipeup","swipedown"],d,function(b){function c(a){i&&(d=g(a),Math.abs(i.coords[0]-d.coords[0])>10&&a.preventDefault())}var d,i=g(b),j=b.delegateTarget||b.currentTarget,k=b.handleObj.selector,l=this;a(document.documentElement).bind(f,c).one(e,function(e){if(a(this).unbind(f,c),i&&d){var g=Math.abs(i.coords[0]-d.coords[0]),m=Math.abs(i.coords[1]-d.coords[1]),n=Math.sqrt(g*g+m*m);if(d.time-i.time<h.delay&&n>=h.min){var o=["swipe"];g>=h.min&&m<h.min?o.push(i.coords[0]>d.coords[0]?"swipeleft":"swiperight"):m>=h.min&&g<h.min&&o.push(i.coords[1]<d.coords[1]?"swipedown":"swipeup"),a.each(a.event.find(j,o,k),function(){this.call(l,b,{start:i,end:d})})}}i=d=void 0})})}(a)});